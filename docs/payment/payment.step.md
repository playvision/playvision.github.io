---
title: Пошаговое руководство
---

**Payments API** даёт возможность переводить PlayGold от пользователей на счета приложений с учетом курса, указанного в приложении.

В этом руководстве будут поэтапно рассмотрены шаги для подключения платежного интерфейса к Вашему приложению:

1. Подготовка серверной части к обработке платежных уведомлений
2. Настройки платежей в приложении
3. Вызов платежного диалогового окна
4. Отправка приложения на проверку

----------

#### 1. Подготовка серверной части к обработке платежных уведомлений

Для начала Вам надо на сервере приложения реализовать обработку уведомлений от платежной системы Playvision.

- [Получение информации о товаре](/docs/payment/payment.get_item.html). Playvision запрашивает информацию о товаре для его отображения в диалоге покупки.
- [Обработка платежных уведомлений](payment.server.html).

Платформа Playvision добавляет к каждому запросу параметр sig. Таким образом обеспечивается гарантия того, что пользователь не подделал или не изменил запрос.

> Продробнее про [генерацию подписи](/docs)

----------

#### 2. Настройки платежей в приложении

В настройках приложения необходимо указать адрес скрипта обратного вызова.

Данные заполняются на странице **Настройки** в параметре **Ссылка для платежей**

![Ссылка для приема платежей](/images/payment/scr1.jpg "Ссылка для приема платежей")

Если Ваше приложение еще не прошло проверку, работают только тестовые платежи.


----------

#### 3. Вызов платежного диалогового окна


В Вашем приложении Вам надо разместить кнопку, нажатие на которую открывало бы диалоговое окно Playvision с описанием и ценой покупки.

Пользователь может как подтвердить покупку, так и отменить её.

![Магазин 1](/images/shop/choose-type.jpg "Магазин 1")

Если количество PlayGold на балансе пользователя недостаточно, ему будет предложено пополнить баланс одним из способов.

![Магазин 2](/images/shop/choose-payment.jpg "Магазин 2")

Для открытия окна необходимо вызвать api метод [payment.window](payment.window.html).

> Игра при этом не перезагружается

----------

#### 4. Отправка приложения на проверку

Если Ваше приложение еще не прошло проверку и не размещается в общем каталоге приложений, самое время сделать это.
Иначе пользователи не смогут воспользоваться платежным функционалом в Вашем приложении.<br>

[**<- Вернуться к основной документации**](/docs/payment/)
